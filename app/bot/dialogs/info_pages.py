from __future__ import annotations

import logging

from aiogram.types import CallbackQuery

from aiogram_dialog import Dialog, Window, DialogManager, StartMode
from aiogram_dialog.widgets.kbd import Button
from aiogram_dialog.widgets.text import Const

from app.bot.dialogs.states import MainMenuSG, PaymentsSG, RulesSG, ContactsSG, TasksSG

logger = logging.getLogger(__name__)


async def go_formatting(c: CallbackQuery, button: Button, manager: DialogManager):
    await manager.switch_to(RulesSG.formatting)


async def go_passability(c: CallbackQuery, button: Button, manager: DialogManager):
    await manager.switch_to(RulesSG.passability)


async def back_to_rules_menu(
    c: CallbackQuery,
    button: Button,
    manager: DialogManager,
):
    await manager.switch_to(RulesSG.main)


async def back_to_menu(
    callback: CallbackQuery,
    widget: Button,
    dialog_manager: DialogManager,
) -> None:
    """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é.

    Args:
        callback (CallbackQuery): Callback –æ—Ç Telegram.
        widget (Button): –ù–∞–∂–∞—Ç–∞—è –∫–Ω–æ–ø–∫–∞.
        dialog_manager (DialogManager): –ú–µ–Ω–µ–¥–∂–µ—Ä –¥–∏–∞–ª–æ–≥–∞.
    """
    await dialog_manager.start(MainMenuSG.main, mode=StartMode.RESET_STACK)


tasks_dialog = Dialog(
    Window(
        Const("üì¶ <b>–ó–∞–¥–∞–Ω–∏—è</b>\n\n–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤—ã–ø–ª–∞—Ç–∞—Ö –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–∑–∂–µ."),
        Button(Const("‚¨ÖÔ∏è –í –º–µ–Ω—é"), id="back_menu", on_click=back_to_menu),
        state=TasksSG.empty,
    ),
)


payments_dialog = Dialog(
    Window(
        Const(
            "üí∞ <b>–í—ã–ø–ª–∞—Ç—ã</b>\n\n"
            "üìÖ <b>–ì—Ä–∞—Ñ–∏–∫ –≤—ã–ø–ª–∞—Ç:</b>\n"
            "–í—ã–ø–ª–∞—Ç–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è <b>–∫–∞–∂–¥—É—é –ø—è—Ç–Ω–∏—Ü—É</b> –∑–∞ –Ω–µ–¥–µ–ª—é —Ä–∞–±–æ—Ç—ã.\n\n"
            "üíµ <b>–°—Ç–∞–≤–∫–∞:</b>\n"
            "‚Ä¢ <b>50 ‚ÇΩ</b> –∑–∞ –æ–¥–∏–Ω –æ—Ç–∑—ã–≤.\n"
            "‚Ä¢ –ï—Å–ª–∏ –æ—Ç–∑—ã–≤ <b>–Ω–µ –ø—Ä–æ—à—ë–ª –ø—Ä–æ–≤–µ—Ä–∫—É</b>, –æ–Ω <b>–∞–Ω–Ω—É–ª–∏—Ä—É–µ—Ç—Å—è</b> –∏ –Ω–µ –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç—Å—è.\n\n"
            "üìù <b>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:</b>\n"
            "–ï—Å–ª–∏ –≤—ã –Ω–∞—á–∞–ª–∏ —Ä–∞–±–æ—Ç—É –≤ –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ –∏–ª–∏ –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ –Ω–µ–¥–µ–ª–∏,\n"
            "–≤—ã–ø–ª–∞—Ç–∞ –ø–æ—Å—Ç—É–ø–∏—Ç <b>–≤ —Å–ª–µ–¥—É—é—â—É—é –ø—è—Ç–Ω–∏—Ü—É</b>."
        ),
        Button(Const("‚¨ÖÔ∏è –í –º–µ–Ω—é"), id="back_menu", on_click=back_to_menu),
        state=PaymentsSG.main,
    ),
)




rules_dialog = Dialog(
    Window(
        Const("üìú <b>–ü—Ä–∞–≤–∏–ª–∞</b>\n\n–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª:"),
        Button(Const("‚úÖ –ü—Ä–∞–≤–∏–ª–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –æ—Ç–∑—ã–≤–∞"), id="fmt", on_click=go_formatting),
        Button(Const("üìà –ü—Ä–æ—Ö–æ–¥–∏–º–æ—Å—Ç—å –æ—Ç–∑—ã–≤–∞"), id="pass", on_click=go_passability),
        Button(Const("‚¨ÖÔ∏è –í –º–µ–Ω—é"), id="back_menu", on_click=back_to_menu),
        state=RulesSG.main,
    ),
    Window(
        Const(
            "‚úÖ <b>–ü—Ä–∞–≤–∏–ª–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –æ—Ç–∑—ã–≤–∞</b>\n\n"
            "1Ô∏è‚É£ <b>–û—Ç–∫—Ä—ã–≤–∞–µ–º ¬´–Ø–Ω–¥–µ–∫—Å –ö–∞—Ä—Ç—ã¬ª</b>\n"
            "–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.\n"
            "<i>–î–æ–ø—É—Å–∫–∞–µ—Ç—Å—è Safari –∏ –¥—Ä—É–≥–∏–µ –±—Ä–∞—É–∑–µ—Ä—ã, –Ω–æ –ø—Ä–æ—Ö–æ–¥–∏–º–æ—Å—Ç—å –º–æ–∂–µ—Ç —Å–Ω–∏–∑–∏—Ç—å—Å—è.</i>\n\n"

            "2Ô∏è‚É£ <b>–ü–∏—à–µ–º —Ç–æ–ª—å–∫–æ –≤—ã–¥–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç</b>\n"
            "–ù–∏—á–µ–≥–æ –Ω–µ –¥–æ–±–∞–≤–ª—è–µ–º –æ—Ç —Å–µ–±—è –∏ –Ω–µ –º–µ–Ω—è–µ–º —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏.\n\n"

            "3Ô∏è‚É£ <b>–°–æ–±–ª—é–¥–∞–µ–º –ø–æ–ª –∏ —Å–∫–ª–æ–Ω–µ–Ω–∏—è</b>\n"
            "–ï—Å–ª–∏ –æ—Ç–∑—ã–≤ –Ω–∞–ø–∏—Å–∞–Ω –æ—Ç –ª–∏—Ü–∞ –¥–µ–≤—É—à–∫–∏ ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ–º –∂–µ–Ω—Å–∫–∏–π –∞–∫–∫–∞—É–Ω—Ç.\n"
            "–ï—Å–ª–∏ –æ—Ç –º—É–∂—á–∏–Ω—ã ‚Äî –º—É–∂—Å–∫–æ–π.\n"
            "<i>–ï—Å–ª–∏ —Å–∫–ª–æ–Ω–µ–Ω–∏–π –Ω–µ—Ç ‚Äî –º–æ–∂–Ω–æ –ø–∏—Å–∞—Ç—å —Å –ª—é–±–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞.</i>\n\n"

            "4Ô∏è‚É£ <b>–°—Ç–∞–≤–∏–º 3‚Äì4 –ª–∞–π–∫–∞</b>\n"
            "–õ–∞–π–∫–∞–µ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –æ—Ç–∑—ã–≤—ã, –∏–Ω–∞—á–µ –≤–∞—à –æ—Ç–∑—ã–≤ –º–æ–∂–µ—Ç –±—ã—Ç—å –∞–Ω–Ω—É–ª–∏—Ä–æ–≤–∞–Ω.\n\n"

            "5Ô∏è‚É£ <b>–î–æ–±–∞–≤–ª—è–µ–º —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é</b>\n"
            "–ù–∞ —Ñ–æ—Ç–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∏–¥–Ω—ã –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∏ —Å–∞–º –æ—Ç–∑—ã–≤.\n\n"

            "6Ô∏è‚É£ <b>–û–¥–∏–Ω –æ—Ç–∑—ã–≤ ‚Äî –æ–¥–∏–Ω –∞–∫–∫–∞—É–Ω—Ç</b>\n"
            "–ó–∞–ø—Ä–µ—â–µ–Ω–æ –æ—Å—Ç–∞–≤–ª—è—Ç—å –±–æ–ª–µ–µ –æ–¥–Ω–æ–≥–æ –æ—Ç–∑—ã–≤–∞ —Å –æ–¥–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞.\n"
            "<i>–ß–µ—Ä–µ–∑ –Ω–µ–¥–µ–ª—é –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –Ω–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ –Ω–∞ –¥—Ä—É–≥–æ–µ —É—á—Ä–µ–∂–¥–µ–Ω–∏–µ.</i>\n\n"

            "7Ô∏è‚É£ <b>–û—Ç–∫–ª—é—á–∞–µ–º –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é</b>\n"
            "–ü–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –æ—Ç–∑—ã–≤–∞ <b>–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç–µ –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é</b> –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ.\n\n"

            "8Ô∏è‚É£ <b>–°–æ–≤–µ—Ä—à–∞–µ–º –∑–≤–æ–Ω–æ–∫ –≤ –∫–æ–º–ø–∞–Ω–∏—é</b>\n"
            "–ü–µ—Ä–µ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π –æ—Ç–∑—ã–≤–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–∑–≤–æ–Ω–∏—Ç—å –≤ –∫–æ–º–ø–∞–Ω–∏—é –∑–∞–∫–∞–∑—á–∏–∫–∞.\n"
            "<i>–ó–≤–æ–Ω–æ–∫ –¥–æ–ª–∂–µ–Ω –¥–ª–∏—Ç—å—Å—è –æ–∫–æ–ª–æ 5 —Å–µ–∫—É–Ω–¥ ‚Äî –∑–∞—Ç–µ–º —Å–±—Ä–æ—Å—å—Ç–µ –≤—ã–∑–æ–≤.</i>\n\n"

            "‚ú® <b>–°–æ–±–ª—é–¥–µ–Ω–∏–µ –≤—Å–µ—Ö –ø—Ä–∞–≤–∏–ª –ø–æ–≤—ã—à–∞–µ—Ç —à–∞–Ω—Å —É—Å–ø–µ—à–Ω–æ–π –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –∏ –æ–ø–ª–∞—Ç—ã.</b>"
        ),
        Button(Const("‚¨ÖÔ∏è –ù–∞–∑–∞–¥"), id="back_rules", on_click=back_to_rules_menu),
        state=RulesSG.formatting,
    ),
    Window(
        Const(
            "üìà <b>–ü—Ä–æ—Ö–æ–¥–∏–º–æ—Å—Ç—å –æ—Ç–∑—ã–≤–∞</b>\n\n"
            "‚Ä¢ –ó–Ω–∞—Ç–æ–∫ 1 ‚Äî ~60%\n"
            "‚Ä¢ –ó–Ω–∞—Ç–æ–∫ 2 ‚Äî ~70%\n"
            "‚Ä¢ –ó–Ω–∞—Ç–æ–∫ 3 ‚Äî ~80%\n"
            "‚Ä¢ –ó–Ω–∞—Ç–æ–∫ 4 ‚Äî ~90%\n"
            "‚Ä¢ –ó–Ω–∞—Ç–æ–∫ 5 ‚Äî ~100%"
        ),
        Button(Const("‚¨ÖÔ∏è –ù–∞–∑–∞–¥"), id="back_rules_2", on_click=back_to_rules_menu),
        state=RulesSG.passability,
    ),
)
contacts_dialog = Dialog(
    Window(
        Const(
            "‚òéÔ∏è <b>–ö–æ–Ω—Ç–∞–∫—Ç—ã / –†–∞–±–æ—Ç–∞ —Å –Ω–∞–º–∏</b>\n\n"
            "üèÜ <b>–ö–∞—Ä—Ç–∞ –£—Å–ø–µ—Ö–∞</b>\n"
            "<i>–í–∞—à–∞ —Ä–µ–ø—É—Ç–∞—Ü–∏—è - —ç—Ç–æ –Ω–∞—à –ø—Ä–æ–µ–∫—Ç!.</i>\n\n"
            "üìû <b>–ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π –Ω–æ–º–µ—Ä:</b>\n"
            "+7 (900) 264-96-63\n\n"
            "üì© <b>–ü–æ—á—Ç–∞:</b>\n"
            "kartauspeha24@mail.ru\n\n"
            "<a href=\"https://t.me/+Mk_qpz4dCzJhNjhi\">–ö–∞—Ä—Ç–∞ –£—Å–ø–µ—Ö–∞ –≤ Telegram</a>\n\n"
            "ü§ù <b>–°–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ:</b>\n"
            "–û—Ç–∫—Ä—ã—Ç—ã –∫ –ø–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤—É –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º. –ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–º ‚Äî –æ—Ç–≤–µ—Ç–∏–º –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è."
        ),
        Button(Const("‚¨ÖÔ∏è –í –º–µ–Ω—é"), id="back_menu", on_click=back_to_menu),
        state=ContactsSG.main,
    ),
)
